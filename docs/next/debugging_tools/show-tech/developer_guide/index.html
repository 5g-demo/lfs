<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>debugging_tools/show-tech/developer_guide · Magma Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Context:"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="debugging_tools/show-tech/developer_guide · Magma Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://magma.github.io/magma/"/><meta property="og:description" content="## Context:"/><meta property="og:image" content="https://magma.github.io/magma/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://magma.github.io/magma/img/docusaurus.png"/><link rel="shortcut icon" href="/magma/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/magma/js/scrollSpy.js"></script><link rel="stylesheet" href="/magma/css/main.css"/><script src="/magma/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/magma/"><img class="logo" src="/magma/img/magma-logo.svg" alt="Magma Documentation"/><h2 class="headerTitleWithLogo">Magma Documentation</h2></a><a href="/magma/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://magmacore.org" target="_self">Home</a></li><li class=""><a target="_self"> | </a></li><li class=""><a href="/" target="_self">Docs</a></li><li class=""><a target="_self"> | </a></li><li class=""><a href="https://github.com/magma" target="_self">Code</a></li><li class=""><a target="_self"> | </a></li><li class=""><a href="https://magmacore.org/community" target="_self">Community</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">debugging_tools/show-tech/developer_guide</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="context"></a><a href="#context" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Context:</h2>
<p>This feature enables an operator to capture the essential state of the gateway (AGW/FEG) package it in intention to upload it to some user configured location.</p>
<ul>
<li>Feature should be developed with extensibility point of view. We should be able to easily add new state which needs to be snapshotted. We shouldn’t have to rebuild or recompile in case we want to add additional state which needs to be collected. It should be straightforward for operators to modify this.</li>
<li>The tool should be reliable. It shouldn’t crash. We should be able to recover from any failure and still gather as much information as possible.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="how-to-use-it"></a><a href="#how-to-use-it" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to use it?</h2>
<p>Show-tech feature is built based on ansible playbook which is located on magma repo.
We currently provide 2 playbooks:</p>
<ol>
<li>install_prereq.yml - to be run once on host to upgrade ansible version to &gt; 2.9.0</li>
<li>show-tech.yml - the report status feature playbook - it responsible to package all files collected and all commend processed to single .tar.gz file.</li>
</ol>
<p>instructions: <a href="https://github.com/magma/magma/blob/master/show-tech/README.md">https://github.com/magma/magma/blob/master/show-tech/README.md</a></p>
<h2><a class="anchor" aria-hidden="true" id="developer-guide"></a><a href="#developer-guide" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Developer guide:</h2>
<ul>
<li>Each playbook is including all the roles and tasks in ordered way as they are mentioned.</li>
<li>Constants file is <strong>constants.yml</strong> and it includes all files we collect and all commands we run and gather their outputs.</li>
</ul>
<pre><code class="hljs"># PREREQ section
ansible_apt_repo: "deb http://ppa.launchpad.net/ansible/ansible/ubuntu trusty main"
ubuntu_apt_keyserver: "keyserver.ubuntu.com"
ubuntu_apt_id: "93C4A3FD7BB9C367"
apt_prereq_packages:
  -<span class="ruby"> git
</span>  -<span class="ruby"> ansible
</span>
# SHOW_TECH section
general_commands:
  -<span class="ruby"> <span class="hljs-string">"uname -a"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"top -b -n 1"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"df -kh"</span>
</span>debian_commands:
  -<span class="ruby"> <span class="hljs-string">"dpkg -l | grep magma"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"ovs-vsctl show"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"apt show magma"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"service magma@* status"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"show_gateway_info.py"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"checkin_cli.py"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"mobility_cli.py get_subscriber_table"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"pipelined_cli.py debug display_flows"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"enodebd_cli.py get_all_status"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"ip addr"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"ping google.com -I eth0 -c 5"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"journalctl -u magma@*"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"timeout 60 sudo tcpdump -i any sctp -w {{report_dir_output.stdout}}/sctp.pcap"</span>
</span>

# files to collect from src to relative destination in tar.gz package
paths_to_collect:
  -<span class="ruby"> <span class="hljs-string">"/var/opt/magma/configs/*"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"/etc/magma/configs/*"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"/etc/systemd/system/*"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"/tmp/*core*"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"/usr/local/bin/mme"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"/var/log/syslog"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"/var/log/MME.*"</span>
</span>  -<span class="ruby"> <span class="hljs-string">"/var/log/enode.*"</span>
</span>
</code></pre>
<p>The role that reads all constants is load_vars
as can seen in show-tech playbook:</p>
<pre><code class="hljs"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Collect</span> <span class="hljs-string">GW</span> <span class="hljs-string">data</span>
  <span class="hljs-attr">hosts:</span> <span class="hljs-string">localhost</span>
  <span class="hljs-attr">pre_tasks:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Verify</span> <span class="hljs-string">Ansible</span> <span class="hljs-string">meets</span> <span class="hljs-string">version</span> <span class="hljs-string">requirements.</span>
      <span class="hljs-attr">assert:</span>
        <span class="hljs-attr">that:</span> <span class="hljs-string">"ansible_version.full is version_compare('2.9', '&gt;=')"</span>
  <span class="hljs-attr">become:</span> <span class="hljs-literal">no</span>
  <span class="hljs-attr">gather_facts:</span> <span class="hljs-literal">yes</span>
  <span class="hljs-attr">roles:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">role:</span> <span class="hljs-string">load_vars</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">role:</span> <span class="hljs-string">install_ansible_modules</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">role:</span> <span class="hljs-string">destdir</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">role:</span> <span class="hljs-string">files</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">role:</span> <span class="hljs-string">commands</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">role:</span> <span class="hljs-string">package</span>

</code></pre>
<p>Or pre-req playbook example:</p>
<pre><code class="hljs"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">install</span> <span class="hljs-string">pre-requisites</span> <span class="hljs-string">for</span> <span class="hljs-string">show-tech</span>
  <span class="hljs-attr">hosts:</span> <span class="hljs-string">localhost</span>
  <span class="hljs-attr">become:</span> <span class="hljs-literal">no</span>
  <span class="hljs-attr">gather_facts:</span> <span class="hljs-literal">yes</span>
  <span class="hljs-attr">roles:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">role:</span> <span class="hljs-string">load_vars</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">role:</span> <span class="hljs-string">upgrade_ansible</span>

</code></pre>
<h3><a class="anchor" aria-hidden="true" id="how-does-role-look-like"></a><a href="#how-does-role-look-like" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How does role look like?</h3>
<p>Role includes tasks which can be builtin ansible modules or community ones.
In this example we will look into the role that collect files as you set them in variable called “<em>paths_to_collect</em>” and uses builtin modules to work with files. (<a href="https://docs.ansible.com/ansible/2.8/modules/list_of_files_modules.html">https://docs.ansible.com/ansible/2.8/modules/list_of_files_modules.html</a>)</p>
<p><em>NOTE</em>: <em>report_dir_output.stdout</em> is the variable containing the  dynamic report dir to be used across all roles and is being created on role <em>destdir.</em></p>
<pre><code class="hljs"><span class="hljs-comment"># Magma files collection based on map paths_to_collect</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Create</span> <span class="hljs-string">a</span> <span class="hljs-string">dest</span> <span class="hljs-string">directory</span> <span class="hljs-string">for</span> <span class="hljs-string">magma</span> <span class="hljs-string">files</span> <span class="hljs-string">under</span> <span class="hljs-string">report</span> <span class="hljs-string">directory</span>
  <span class="hljs-attr">file:</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">"<span class="hljs-template-variable">{{report_dir_output.stdout}}</span>/<span class="hljs-template-variable">{{item | dirname}}</span>"</span>
    <span class="hljs-attr">state:</span> <span class="hljs-string">directory</span>
    <span class="hljs-attr">mode:</span> <span class="hljs-string">"0700"</span>
  <span class="hljs-attr">with_fileglob:</span> <span class="hljs-string">"<span class="hljs-template-variable">{{paths_to_collect}}</span>"</span>



<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Copy</span> <span class="hljs-string">magma</span> <span class="hljs-string">files</span> <span class="hljs-string">to</span> <span class="hljs-string">destination</span>
  <span class="hljs-attr">copy:</span>
    <span class="hljs-attr">src:</span> <span class="hljs-string">"<span class="hljs-template-variable">{{item}}</span>"</span>
    <span class="hljs-attr">dest:</span> <span class="hljs-string">"<span class="hljs-template-variable">{{report_dir_output.stdout }}</span>/<span class="hljs-template-variable">{{item | dirname}}</span>"</span>
  <span class="hljs-attr">with_fileglob:</span> <span class="hljs-string">"<span class="hljs-template-variable">{{paths_to_collect}}</span>"</span>

</code></pre>
<h3><a class="anchor" aria-hidden="true" id="how-do-i-test-my-changes"></a><a href="#how-do-i-test-my-changes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How do i test my changes:</h3>
<p>On agw host as user root perform the following after made some git PR.</p>
<p>Clone your PR to host and upgrade ansible:</p>
<pre><code class="hljs">$ git clone https://github.com/<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">your_github_user</span>&gt;</span></span>/magma.git -b <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">your_branch</span>&gt;</span></span>
$ cd magma/show-tech/
$ ansible-playbook install_prereq.yml


[<span class="hljs-symbol">WARNING</span>]: <span class="hljs-link">provided hosts list is empty, only localhost is available</span>


PLAY [install pre-requisites for show-tech] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*

TASK [setup] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>**
ok: [localhost]

TASK [load_vars : include the vars for deployment from constants.yml] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>
ok: [localhost]

TASK [upgrade_ansible : Validate OS is debian] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>
ok: [localhost] =&gt; {
<span class="hljs-code">    "changed": false,</span>
<span class="hljs-code">    "msg": "All assertions passed"</span>
}

TASK [upgrade_ansible : Updating repos with ansible for debian repo] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
changed: [localhost]

TASK [upgrade_ansible : Import the ubuntu apt key] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
ok: [localhost]

TASK [upgrade_ansible : install packages] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>
changed: [localhost] =&gt; (item=[u'git', u'ansible'])

PLAY RECAP <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
localhost                  : ok=6    changed=2    unreachable=0    failed=0

</code></pre>
<p>Run the show-tech playbook:</p>
<pre><code class="hljs">
<span class="hljs-section"># ansible-playbook show-tech.yml</span>
[<span class="hljs-symbol">WARNING</span>]: <span class="hljs-link">provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'</span>

PLAY [Collect GW data] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>

TASK [Gathering Facts] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>
ok: [localhost]

TASK [Verify Ansible meets version requirements.] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>
ok: [localhost] =&gt; {
<span class="hljs-code">    "changed": false,</span>
<span class="hljs-code">    "msg": "All assertions passed"</span>
}

TASK [load_vars : include the vars for deployment from constants.yml] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>
ok: [localhost]

TASK [destdir : Get timestamp] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>**
changed: [localhost]

TASK [destdir : Get report destination directory] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>
changed: [localhost]

TASK [destdir : debug] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>
ok: [localhost] =&gt; {
<span class="hljs-code">    "report_dir_output.stdout_lines": [</span>
<span class="hljs-code">        "/tmp/magma_reports/report.magma.2020-11-29T14:34:49Z"</span>
<span class="hljs-code">    ]</span>
}

TASK [destdir : Create a directory for report] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
changed: [localhost]

TASK [Create a dest directory for magma files under report directory] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>

TASK [Copy magma files to destination] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
[<span class="hljs-symbol">WARNING</span>]: <span class="hljs-link">Unable to find '/etc/magma/configs' in expected paths (use -vvvvv to see paths)</span>
changed: [localhost] =&gt; (item=/var/opt/magma/configs/gateway.mconfig)
changed: [localhost] =&gt; (item=/etc/systemd/system/magma@pipelined.service.dpkg-old)
changed: [localhost] =&gt; (item=/etc/systemd/system/magma@mme.service)
changed: [localhost] =&gt; (item=/etc/systemd/system/magma@lighttpd.service.dpkg-old)
changed: [localhost] =&gt; (item=/etc/systemd/system/magma@redirectd.service.dpkg-old)
[...]
changed: [localhost] =&gt; (item=/usr/local/bin/mme)
changed: [localhost] =&gt; (item=/var/log/syslog)
changed: [localhost] =&gt; (item=/var/log/MME.magma.root.log.INFO.20201027-190839.7640)
changed: [localhost] =&gt; (item=/var/log/MME.INFO)


TASK [Get output of commands for all distributions] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
changed: [localhost] =&gt; (item=uname -a)
changed: [localhost] =&gt; (item=top -b -n 1)
changed: [localhost] =&gt; (item=df -kh)

TASK [Run debian commands] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
included: /root/magma/show-tech/roles/commands/tasks/debian.yml for localhost
TASK [Get output of debian commands] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
changed: [localhost] =&gt; (item=dpkg -l | grep magma)
changed: [localhost] =&gt; (item=ovs-vsctl show)
changed: [localhost] =&gt; (item=apt show magma)
changed: [localhost] =&gt; (item=service magma@* status)
changed: [localhost] =&gt; (item=show<span class="hljs-emphasis">_gateway_</span>info.py)
changed: [localhost] =&gt; (item=checkin_cli.py)
changed: [localhost] =&gt; (item=mobility<span class="hljs-emphasis">_cli.py get_</span>subscriber_table)
changed: [localhost] =&gt; (item=pipelined<span class="hljs-emphasis">_cli.py debug display_</span>flows)
changed: [localhost] =&gt; (item=enodebd<span class="hljs-emphasis">_cli.py get_</span>all_status)
changed: [localhost] =&gt; (item=ip addr)
changed: [localhost] =&gt; (item=ping google.com -I eth0 -c 5)
changed: [localhost] =&gt; (item=journalctl -u magma@*)
changed: [localhost] =&gt; (item=timeout 60 sudo tcpdump -i any sctp -w /tmp/magma_reports/report.magma.2020-11-29T14:34:49Z/sctp.pcap)

TASK [package : Compress directory report<span class="hljs-emphasis">_dir into /tmp/magma_</span>reports/report.<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HOSTNAME</span>&gt;</span></span>.<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DATE</span>&gt;</span></span>.tgz] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>
changed: [localhost]

TASK [package : Recursively remove report directory /tmp/magma_reports/report.<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HOSTNAME</span>&gt;</span></span>.<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DATE</span>&gt;</span></span>] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
changed: [localhost]

PLAY RECAP <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>**
localhost                  : ok=16   changed=10   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

</code></pre>
<p>Validate the content of the package.</p>
<p>commands_output.log - will include all commands and their stdout and stderr events.
sctp.pcap - will include pcap file.</p>
<pre><code class="hljs"># tar tvf /tmp/magma_reports/report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14\:<span class="hljs-number">21</span>\:<span class="hljs-number">42</span>Z.tgz
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/usr/
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">21</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/etc/
-rw-r--r-- root/root <span class="hljs-number">15996134</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">23</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/commands_output.log
-rw-r--r-- root/root <span class="hljs-number">2336</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">24</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/sctp.pcap
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/usr/local/
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/usr/local/bin/
-rw-r--r-- root/root <span class="hljs-number">69056616</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/usr/local/bin/mme
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/log/
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">21</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/opt/
-rw-r--r-- root/root <span class="hljs-number">948</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/log/MME.magma.root.log.INFO<span class="hljs-number">.20201027</span><span class="hljs-number">-190839.7640</span>
-rw-r--r-- root/root <span class="hljs-number">948</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/log/MME.magma.root.log.INFO<span class="hljs-number">.20201027</span><span class="hljs-number">-190905.8105</span>
-rw-r--r-- root/root <span class="hljs-number">948</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/log/MME.magma.root.log.INFO<span class="hljs-number">.20201027</span><span class="hljs-number">-190813.7191</span>
-rw-r--r-- root/root <span class="hljs-number">12471697</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/log/MME.INFO
-rw-r--r-- root/root <span class="hljs-number">50620666</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/log/syslog
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">21</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/opt/magma/
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/opt/magma/configs/
-rw-r--r-- root/root <span class="hljs-number">2795</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/var/opt/magma/configs/gateway.mconfig
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">21</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/etc/systemd/
drwx------ root/root <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/etc/systemd/system/
-rw-r--r-- root/root <span class="hljs-number">363</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/etc/systemd/system/<span class="hljs-symbol">magma@</span>pipelined.service.dpkg-old
-rw-r--r-- root/root <span class="hljs-number">1258</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/etc/systemd/system/<span class="hljs-symbol">magma@</span>mme.service
-rw-r--r-- root/root <span class="hljs-number">446</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/etc/systemd/system/<span class="hljs-symbol">magma@</span>lighttpd.service.dpkg-old
-rw-r--r-- root/root <span class="hljs-number">313</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/etc/systemd/system/<span class="hljs-symbol">magma@</span>redirectd.service.dpkg-old
-rw-r--r-- root/root <span class="hljs-number">470</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/etc/systemd/system/<span class="hljs-symbol">magma@</span>redis.service.dpkg-old
-rw-r--r-- root/root <span class="hljs-number">1010</span> <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/etc/systemd/system/<span class="hljs-symbol">magma@</span>lighttpd.service

</code></pre>
<p>Check the commands output:</p>
<pre><code class="hljs">
$ grep <span class="hljs-string">"Command:"</span> -A <span class="hljs-number">3</span> report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/commands_output.log

Command: uname -a
Linux magma <span class="hljs-number">4.9</span><span class="hljs-number">.0</span><span class="hljs-number">-8</span>-amd64 #<span class="hljs-number">1</span> SMP Debian <span class="hljs-number">4.9</span><span class="hljs-number">.110</span><span class="hljs-number">-3</span>+deb9u6 (<span class="hljs-number">2018</span><span class="hljs-number">-10</span><span class="hljs-number">-08</span>) x86_64 GNU/Linux
Command: top -b -n <span class="hljs-number">1</span>
top - <span class="hljs-number">14</span>:<span class="hljs-number">22</span>:<span class="hljs-number">59</span> up <span class="hljs-number">108</span> days, <span class="hljs-number">21</span>:<span class="hljs-number">53</span>, <span class="hljs-number">1</span> user, load average: <span class="hljs-number">1.31</span>, <span class="hljs-number">0.73</span>, <span class="hljs-number">0.46</span>
Tasks: <span class="hljs-number">133</span> total, <span class="hljs-number">2</span> running, <span class="hljs-number">130</span> sleeping, <span class="hljs-number">0</span> stopped, <span class="hljs-number">1</span> zombie
%Cpu(s): <span class="hljs-number">3.8</span> us, <span class="hljs-number">0.6</span> sy, <span class="hljs-number">0.0</span> ni, <span class="hljs-number">92.9</span> id, <span class="hljs-number">0.0</span> wa, <span class="hljs-number">0.0</span> hi, <span class="hljs-number">2.6</span> si, <span class="hljs-number">0.0</span> st
--
Command: df -kh
Filesystem Size Used Avail Use% Mounted on
udev <span class="hljs-number">3.9</span>G <span class="hljs-number">0</span> <span class="hljs-number">3.9</span>G <span class="hljs-number">0</span>% /dev
tmpfs <span class="hljs-number">787</span>M <span class="hljs-number">81</span>M <span class="hljs-number">707</span>M <span class="hljs-number">11</span>% /run
--
Command: ovs-vsctl show
de6cf0e5<span class="hljs-number">-454</span>c<span class="hljs-number">-4</span>cef<span class="hljs-number">-9</span>a65-d93ba083ab8e
Bridge <span class="hljs-string">"gtp_br0"</span>
Controller <span class="hljs-string">"tcp:127.0.0.1:6654"</span>
--
Command: apt show magma
Package: magma
Version: <span class="hljs-number">1.3</span><span class="hljs-number">.1</span><span class="hljs-number">-1605904866</span><span class="hljs-number">-7933</span>c828
Priority: extra
--
Command: service <span class="hljs-symbol">magma@</span>* status
● <span class="hljs-symbol">magma@</span>td-agent-bit.service - TD Agent Bit
Loaded: loaded (/etc/systemd/system/<span class="hljs-symbol">magma@</span>td-agent-bit.service; disabled; vendor preset: enabled)
Active: active (running) since Thu <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-26</span> <span class="hljs-number">11</span>:<span class="hljs-number">03</span>:<span class="hljs-number">49</span> UTC; <span class="hljs-number">3</span> days ago
--
Command: show_gateway_info.py
Hardware ID:
e677ec40<span class="hljs-number">-19</span>d3<span class="hljs-number">-461</span>e-bc75-b526432a0f33
--
Command: checkin_cli.py
<span class="hljs-number">1.</span> -- Testing TCP connection to controller.magma.etagecom.io:<span class="hljs-number">443</span> (http:<span class="hljs-comment">//controller.magma.etagecom.io:443/) --</span>
<span class="hljs-number">2.</span> -- Testing Certificate --
<span class="hljs-number">3.</span> -- Testing SSL --
--
Command: mobility_cli.py get_subscriber_table
SID IP APN
IMSI311980000039039 <span class="hljs-number">192.168</span><span class="hljs-number">.128</span><span class="hljs-number">.150</span> oai.ipv4
IMSI311980000039058 <span class="hljs-number">192.168</span><span class="hljs-number">.128</span><span class="hljs-number">.216</span> oai.ipv4
--
Command: pipelined_cli.py debug display_flows
cookie=<span class="hljs-number">0x0</span>, duration=<span class="hljs-number">361944.238</span>s, table=mme(main_table), n_packets=<span class="hljs-number">12686776</span>, n_bytes=<span class="hljs-number">1255948751</span>, idle_age=<span class="hljs-number">2</span>, hard_age=<span class="hljs-number">65534</span>, priority=<span class="hljs-number">10</span>,tun_id=<span class="hljs-number">0x51</span>,in_port=<span class="hljs-number">1</span> actions=mod_dl_src:<span class="hljs-number">02</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">01</span>,mod_dl_dst:ff:ff:ff:ff:ff:ff,load:<span class="hljs-number">0x8ddf408a29279</span>→OXM_OF_METADATA[],resubmit(,ingress(main_table))
cookie=<span class="hljs-number">0x0</span>, duration=<span class="hljs-number">361944.063</span>s, table=mme(main_table), n_packets=<span class="hljs-number">9554644</span>, n_bytes=<span class="hljs-number">1226610964</span>, idle_age=<span class="hljs-number">45</span>, hard_age=<span class="hljs-number">65534</span>, priority=<span class="hljs-number">10</span>,tun_id=<span class="hljs-number">0x39</span>,in_port=<span class="hljs-number">1</span> actions=mod_dl_src:<span class="hljs-number">02</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">01</span>,mod_dl_dst:ff:ff:ff:ff:ff:ff,load:<span class="hljs-number">0x8ddf408a292b1</span>→OXM_OF_METADATA[],resubmit(,ingress(main_table))
cookie=<span class="hljs-number">0x0</span>, duration=<span class="hljs-number">361943.145</span>s, table=mme(main_table), n_packets=<span class="hljs-number">1283</span>, n_bytes=<span class="hljs-number">97588</span>, idle_age=<span class="hljs-number">53</span>, hard_age=<span class="hljs-number">65534</span>, priority=<span class="hljs-number">10</span>,tun_id=<span class="hljs-number">0x52</span>,in_port=<span class="hljs-number">1</span> actions=mod_dl_src:<span class="hljs-number">02</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">01</span>,mod_dl_dst:ff:ff:ff:ff:ff:ff,load:<span class="hljs-number">0x8ddf408a283f9</span>→OXM_OF_METADATA[],resubmit(,ingress(main_table))
--
Command: enodebd_cli.py get_all_status
--- eNodeB Serial: <span class="hljs-number">120200004917</span>CNJ0028 ---
IP Address.................<span class="hljs-number">.10</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span><span class="hljs-number">.243</span>
eNodeB Connected via TR<span class="hljs-number">-069.</span>...........ON
--
Command: ip addr
<span class="hljs-number">1</span>: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="hljs-number">65536</span> qdisc noqueue state UNKNOWN group <span class="hljs-keyword">default</span> qlen <span class="hljs-number">1</span>
link/loopback <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> brd <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>
inet <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>/<span class="hljs-number">8</span> scope host lo
--

Command: ping google.com -I eth0 -c <span class="hljs-number">5</span>
PING google.com (<span class="hljs-number">172.217</span><span class="hljs-number">.11</span><span class="hljs-number">.238</span>) <span class="hljs-keyword">from</span> <span class="hljs-number">192.168</span><span class="hljs-number">.149</span><span class="hljs-number">.2</span> eth0: <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) bytes of data.
<span class="hljs-number">64</span> bytes <span class="hljs-keyword">from</span> den02s01-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.11</span><span class="hljs-number">.238</span>): icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">117</span> time=<span class="hljs-number">10.4</span> ms
<span class="hljs-number">64</span> bytes <span class="hljs-keyword">from</span> den02s01-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.11</span><span class="hljs-number">.238</span>): icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">117</span> time=<span class="hljs-number">10.2</span> ms
--
Command: journalctl -u <span class="hljs-symbol">magma@</span>*
-- Logs begin at Sun <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">11</span>:<span class="hljs-number">16</span>:<span class="hljs-number">52</span> UTC, end at Sun <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span> <span class="hljs-number">14</span>:<span class="hljs-number">23</span>:<span class="hljs-number">19</span> UTC. --
Nov <span class="hljs-number">29</span> <span class="hljs-number">11</span>:<span class="hljs-number">16</span>:<span class="hljs-number">52</span> magma sessiond[<span class="hljs-number">11821</span>]: I1129 <span class="hljs-number">11</span>:<span class="hljs-number">16</span>:<span class="hljs-number">52.015013</span> <span class="hljs-number">11821</span> LocalEnforcer.cpp:<span class="hljs-number">255</span>] IMSI311980000039313<span class="hljs-number">-78566</span> used <span class="hljs-number">40</span> tx bytes <span class="hljs-keyword">and</span> <span class="hljs-number">52</span> rx bytes <span class="hljs-keyword">for</span> rule allowlist_sid-IMSI311980000039313-oai.ipv4
Nov <span class="hljs-number">29</span> <span class="hljs-number">11</span>:<span class="hljs-number">16</span>:<span class="hljs-number">52</span> magma sessiond[<span class="hljs-number">11821</span>]: I1129 <span class="hljs-number">11</span>:<span class="hljs-number">16</span>:<span class="hljs-number">52.015242</span> <span class="hljs-number">11821</span> LocalEnforcer.cpp:<span class="hljs-number">255</span>] IMSI311980000021494<span class="hljs-number">-624955</span> used <span class="hljs-number">62</span> tx bytes <span class="hljs-keyword">and</span> <span class="hljs-number">78</span> rx bytes <span class="hljs-keyword">for</span> rule allowlist_sid-IMSI311980000021494-oai.ipv4
--
Command: timeout <span class="hljs-number">60</span> sudo tcpdump -i any sctp -w /tmp/magma_reports/report.magma<span class="hljs-number">.2020</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>T14:<span class="hljs-number">21</span>:<span class="hljs-number">42</span>Z/sctp.pcap
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="references"></a><a href="#references" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>References:</h2>
<p><a href="https://docs.ansible.com/ansible/2.8/modules/modules_by_category.html">https://docs.ansible.com/ansible/2.8/modules/modules_by_category.html</a> - all ansible modules by category.
<a href="https://docs.ansible.com/ansible/2.8/user_guide/playbooks.html">https://docs.ansible.com/ansible/2.8/user_guide/playbooks.html</a> - ansible user guide on playbooks.</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#context">Context:</a></li><li><a href="#how-to-use-it">How to use it?</a></li><li><a href="#developer-guide">Developer guide:</a><ul class="toc-headings"><li><a href="#how-does-role-look-like">How does role look like?</a></li><li><a href="#how-do-i-test-my-changes">How do i test my changes:</a></li></ul></li><li><a href="#references">References:</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/magma/" class="nav-home"><img src="/magma/img/magma_icon.png" alt="Magma Documentation" width="66"/></a><div><h5>Docs</h5><a href="https://github.com/facebookincubator/magma/blob/master/docs/Magma_Product_Overview.pdf">Magma Product Overview</a><a href="https://github.com/facebookincubator/magma/blob/master/docs/Magma_Specs_V1.1.pdf">Magma Spec</a></div><div><h5>Community</h5><a href="https://discord.gg/4YxZbft">Discord</a><a href="https://fb.me/magmadevsummit" target="_blank" rel="noreferrer noopener">Magma Dev Summit</a></div><div><h5>More</h5><a href="https://code.fb.com/open-source/magma/">Blog</a><a href="https://github.com/facebookincubator/magma">GitHub</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/magma/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2021 The Magma Authors</section></footer></div></body></html>